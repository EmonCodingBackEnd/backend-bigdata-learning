<?xml version="1.0" encoding="UTF-8" ?>
<assembly xmlns="http://maven.apache.org/ASSEMBLY/2.1.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/ASSEMBLY/2.1.0 http://maven.apache.org/xsd/assembly-2.1.0.xsd">
    <id>jar-with-dependencies</id>
    <formats>
        <format>jar</format>
    </formats>
    <!--tar.gz压缩包下是否生成和项目名相同的根目录-->
    <includeBaseDirectory>false</includeBaseDirectory>
    <dependencySets>
        <dependencySet>
            <!--依赖jar包放置目录，相对于根目录-->
            <outputDirectory>/</outputDirectory>
            <!--是否把本项目添加到依赖文件夹下-->
            <useProjectArtifact>true</useProjectArtifact>
            <!--false表示将依赖以原来的JAR形式打包，true则表示将依赖解成*.class文件的目录结构打包-->
            <unpack>true</unpack>
            <!--将scope为runtime的依赖包打包-->
            <scope>runtime</scope>
            <excludes>
                <!--排除大数据直接依赖包-->
                <exclude>org.apache.hadoop:*</exclude>
                <exclude>org.apache.hbase:*</exclude>
                <exclude>org.apache.kudu:*</exclude>
                <exclude>org.apache.commons:*</exclude>
                <exclude>org.apache.curator:*</exclude>
                <exclude>com.fasterxml.jackson.*:*</exclude>
                <exclude>org.apache.httpcomponents:*</exclude>
                <exclude>org.apache.kerby:*</exclude>
                <exclude>net.minidev:*</exclude>
                <exclude>org.eclipse.jetty:*</exclude>
                <!--排除大数据一部分间接依赖包-->
                <exclude>org.slf4j:slf4j-api</exclude>
                <exclude>org.slf4j:slf4j-log4j12</exclude>
                <exclude>log4j:log4j</exclude>
                <exclude>org.junit.platform:*</exclude>
                <exclude>junit:junit</exclude>
                <exclude>org.apache.hadoop:hadoop-client</exclude>
                <exclude>org.apache.hadoop:hadoop-common</exclude>
                <exclude>org.apache.commons:commons-math3</exclude>
                <exclude>org.apache.httpcomponents:httpclient</exclude>
                <exclude>org.apache.avro:avro</exclude>
                <exclude>org.apache.htrace:htrace-core4</exclude>
                <exclude>org.codehaus.jackson:*</exclude>
                <exclude>commons-cli:commons-cli</exclude>
                <exclude>commons-codec:commons-codec</exclude>
                <exclude>commons-io:commons-io</exclude>
                <exclude>commons-net:commons-net</exclude>
                <exclude>commons-collections:commons-collections</exclude>
                <exclude>commons-logging:commons-logging</exclude>
                <exclude>commons-beanutils:commons-beanutils</exclude>
                <exclude>com.google.guava:guava</exclude>
                <exclude>com.google.code.gson:gson</exclude>
                <exclude>com.google.protobuf:protobuf-java</exclude>
                <exclude>com.google.re2j:re2j</exclude>
                <exclude>javax.servlet.jsp:jsp-api</exclude>
                <exclude>com.sun.jersey:jersey-servlet</exclude>
                <exclude>com.sun.jersey:*</exclude>
                <exclude>com.squareup.okhttp:okhttp</exclude>
                <exclude>com.squareup.okio:okio</exclude>
                <exclude>org.xerial.snappy:snappy-java</exclude>
                <exclude>org.ow2.asm:asm</exclude>
                <exclude>org.codehaus.woodstox:stax2-api</exclude>
                <exclude>com.fasterxml.woodstox:woodstox-core</exclude>
                <exclude>org.tukaani:xz</exclude>
                <exclude>dnsjava:dnsjava</exclude>
                <exclude>com.google.code.findbugs</exclude>
            </excludes>
        </dependencySet>
    </dependencySets>
</assembly>
